<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ°ğŸ°ğŸ° FF14 ç”Ÿæ´»ç¶“é©—è¦åŠƒå™¨ ğŸ°ğŸ°ğŸ°</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #eaddd5;
            --card-bg: #f9f4f0;
            --text-main: #d48a94;
            --text-sub: #7d6e66;
            --accent: #8fb9cc;
            --input-bg: #ffffff;
            --input-border: #dcd0c9;
            --border-round: 18px;
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-sub);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            cursor: url('https://img.icons8.com/emoji/32/000000/carrot-emoji.png'), auto;
        }

        a, input, .no-box-check, .tool-link, button {
            cursor: url('https://img.icons8.com/emoji/32/000000/carrot-emoji.png'), pointer !important;
        }

        .container {
            background-color: var(--card-bg);
            padding: 30px 25px;
            border-radius: 30px;
            box-shadow: 0 10px 25px rgba(125,110,102,0.15);
            width: 100%;
            max-width: 380px;
            text-align: center;
            border: 2px solid #ffffff;
            position: relative;
        }

        .tape {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 25px;
            background: rgba(212, 138, 148, 0.2);
            backdrop-filter: blur(2px);
            border-radius: 2px;
        }

        .header-title .ff14-text {
            display: block;
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--text-main);
            letter-spacing: 3px;
        }
        .header-title .sub-title {
            display: block;
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--text-main);
            margin-bottom: 5px;
        }

        #randomQuote {
            font-size: 0.85rem;
            color: #b399b3;
            font-style: italic;
            margin-bottom: 20px;
            min-height: 1.2em;
        }

        .input-group { text-align: left; margin-bottom: 15px; }
        label { 
            color: var(--text-sub); 
            font-size: 0.9rem; 
            font-weight: 700;
            display: block; 
            margin-bottom: 4px; 
            margin-left: 8px;
        }

        .sub-label {
            font-size: 0.75rem;
            color: var(--text-main);
            margin-bottom: 5px;
            margin-left: 8px;
            display: block;
        }

        input[type="number"] {
            width: 100%;
            padding: 12px;
            border-radius: var(--border-round);
            border: 2px solid var(--input-border);
            background-color: var(--input-bg);
            color: var(--text-sub);
            font-size: 1rem;
            box-sizing: border-box;
            outline: none;
        }

        .no-box-check {
            background: #f0e6e0;
            padding: 12px;
            border-radius: var(--border-round);
            margin: 10px 0 20px 0;
            border: 1px solid var(--input-border);
            user-select: none;
            font-size: 0.85rem;
            font-weight: bold;
        }
        .no-box-check.active {
            border-color: var(--text-main);
            background: #fff0f2;
        }

        .result-box {
            background-color: #ffffff;
            border-radius: 20px;
            padding: 15px;
            margin: 15px 0;
            border: 1px solid #eee;
        }
        
        .progress-container {
            width: 90%;
            height: 10px;
            background-color: #eee;
            border-radius: 10px;
            margin: 10px auto;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            width: 0%;
            background-color: var(--accent);
            transition: width 0.5s ease;
        }

        .total-needed { 
            color: var(--text-main); 
            font-size: 1.8rem; 
            font-weight: 800; 
            margin: 5px 0; 
        }

        .tip {
            font-size: 0.8rem;
            color: #7d6e66;
            background: #fdfaf8;
            padding: 12px;
            border-radius: 15px;
            line-height: 1.6;
            margin-bottom: 15px;
            text-align: left;
            border: 1px dashed var(--input-border);
        }
        .tip b { color: var(--text-main); }
        .tip-sub { font-size: 0.75rem; color: #b0a49e; margin-top: 5px; display: block; }

        .btn-group { display: flex; flex-direction: column; gap: 8px; }
        .tool-link {
            display: block;
            padding: 10px;
            background-color: var(--accent);
            color: white;
            text-decoration: none;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 700;
            box-shadow: 0 4px 0 #76a0b3;
            text-align: center;
        }
        .tool-link.sub-btn {
            background-color: #b0a49e;
            box-shadow: 0 4px 0 #8a7e77;
        }

        .footer { font-size: 0.75rem; color: #b0a49e; margin-top: 15px; }
    </style>
</head>
<body>

<div class="container">
    <div class="tape"></div>
    <div class="header-title">
        <span class="ff14-text">FF14</span>
        <span class="sub-title">ğŸ¾ ğŸ° ç”Ÿæ´»ç¶“é©—è¦åŠƒå™¨ ğŸ° ğŸ¾</span>
    </div>

    <div id="randomQuote">è¼‰å…¥ä¸­...</div>

    <div class="input-group">
        <label>ç›®å‰ç­‰ç´š:</label>
        <input type="number" id="lv" value="50" oninput="calc()">
    </div>
    <div class="input-group">
        <label>ç›®å‰å·²ç´¯ç©ç¶“é©—:</label>
        <input type="number" id="cur" value="0" oninput="calc()">
    </div>
    <div class="input-group">
        <label>ç›®æ¨™ç­‰ç´š:</label>
        <input type="number" id="target" value="60" oninput="calc()">
    </div>

    <hr style="border:0; border-top:1px dashed var(--input-border); margin: 20px 0;">

    <div id="buffBtn" class="no-box-check" onclick="toggleBuff()">
        <span>90ç´šä»¥ä¸‹è«‹é»æˆ‘ä½¿ç”¨é›™å€ç¶“é©—</span>
    </div>

    <div class="input-group">
        <label>æ”¶è—å“ç¶“é©—å€¼:</label>
        <span class="sub-label">å¡«å¯«æ”¶è—å“å“è³ªç²å¾—çš„ç¶“é©—å€¼ : <a href="example.png" target="_blank" style="color:var(--accent); text-decoration:none;">ğŸ“·(ç¯„ä¾‹)</a></span>
        <input type="number" id="baseExp" value="300000" oninput="calc()">
    </div>

    <div class="input-group">
        <label style="color:var(--accent);">è£½ä½œæ”¶è—å“ç²å¾—çš„ç¶“é©—ï¼š
            <a href="example2.png" target="_blank" style="color:var(--accent); text-decoration:none; font-size:0.8rem;">ğŸ“·(ç¯„ä¾‹)</a>
        </label>
        <span class="sub-label">è£½ä½œä¸€æ¬¡æ”¶è—å“ï¼Œå¡«å¯«ç²å¾—ç¶“é©—è®“è¨ˆç®—æ›´æº–ç¢ºä¸€äº›</span>
        <input type="number" id="totalExp" value="300000" oninput="calc()">
    </div>

    <div class="input-group">
        <label>èƒŒåŒ…å·²æœ‰çš„æ”¶è—å“æ•¸é‡ (å€‹):</label>
        <span class="sub-label">å¡«å¯«å¾Œæœƒè‡ªå‹•å¾ç›®æ¨™ä¸­æ‰£é™¤æ•¸é‡</span>
        <input type="number" id="alreadyDone" value="0" oninput="calc()">
    </div>

    <div class="result-box">
        <div id="resLv" style="color:var(--accent); font-weight:700; font-size:0.85rem;">æœ¬ç´šé€²åº¦: -</div>
        <div class="progress-container"><div id="progressBar" class="progress-bar"></div></div>
        <div style="color: #b0a49e; font-size: 0.8rem; font-weight: 700;">ğŸ’– ç›®æ¨™å€é–“ç¸½éœ€ ğŸ’–</div>
        <div id="resTotal" class="total-needed">0 Exp</div>
        <div id="resHint" style="color:#b399b3; font-weight:700; font-size:1.2rem;">ç­‰å¾…è¨ˆç®—...</div>
    </div>

    <div class="tip">
        <b>ğŸ’¡ ä½¿ç”¨èªªæ˜ï¼š</b><br>
        è£½ä½œéç¨‹ä¸­é‚„æ˜¯æœƒå¢åŠ ç¶“é©—å€¼ï¼Œç›®æ¨™æ•¸é‡æ‰£é™¤1-3å€‹ï¼Œæ€•åšå¤ªå¤šæµªè²»æ™‚é–“ã€‚<br>
        <span class="tip-sub">â€»å»ºè­°è£½ä½œä¸€æ¬¡æ”¶è—å“å¡«å¯«å®Œæˆçš„ç¶“é©—å€¼è®“è¨ˆç®—æ›´ç²¾æº–äº›</span>
    </div>

    <div class="btn-group">
        <a href="https://tnze.yyyy.games/#/welcome" target="_blank" class="tool-link">ğŸ› ï¸ æ‰“é–‹ç”Ÿç”¢æ¨¡æ“¬å™¨</a>
        <a href="https://forum.gamer.com.tw/C.php?bsn=17608&snA=26610" target="_blank" class="tool-link sub-btn">ğŸ“œ ç¹ä¸­æœç”Ÿç”¢è£½é€ ç·´ç´šè·¯ç·š</a>
    </div>

    <div class="footer">å°ç‹—å†¬è£½ä½œ</div>
</div>

<script>
    const quotes = ["ä»Šå¤©çš„ææ–™ä¹Ÿè¦ç´°å¿ƒç ”ç£¨å–”ï¼", "æ¯ä¸€ä»¶å‚‘ä½œéƒ½æºè‡ªæ–¼å°ç´°ç¯€çš„åŸ·è‘—ã€‚", "å·¥åŒ çš„éˆé­‚ï¼Œè—åœ¨æ¯ä¸€æ¬¡æ•²æ‰“ä¸­ã€‚", "é›–ç„¶è·¯é€”é™é ï¼Œä½†å‡ç´šçš„ç«èŠ±å¾ˆç¾ã€‚", "é¡˜æ°´æ™¶ä¿ä½‘ä½ çš„ HQ æˆåŠŸç‡ï¼", "è£½ä½œæ™‚åˆ¥å¿˜äº†å–æ¯èŒ¶ï¼Œä¼‘æ¯ä¸€ä¸‹å§ã€‚", "èƒŒåŒ…æ»¿äº†å—ï¼Ÿè¨˜å¾—æ¸…ç†ä¸€ä¸‹ç©ºé–“å–”ï¼", "æ”¶è—å“ï¼Œæ˜¯å·¥åŒ å¯¦åŠ›çš„æœ€å¥½è­‰æ˜ã€‚"];
    document.getElementById('randomQuote').innerText = quotes[Math.floor(Math.random() * quotes.length)];

    const EXP_DATA = {1:300,2:450,3:630,4:970,5:1440,6:1940,7:3000,8:3920,9:4970,10:5900,11:7430,12:8620,13:10200,14:11300,15:13100,16:15200,17:17400,18:19600,19:21900,20:24300,21:27400,22:30600,23:33900,24:37300,25:40800,26:49200,27:54600,28:61900,29:65600,30:68400,31:74000,32:82700,33:88700,34:95000,35:102000,36:113000,37:121000,38:133000,39:142000,40:155000,41:163000,42:171000,43:179000,44:187000,45:195000,46:214000,47:229000,48:244000,49:259000,50:421000,51:500000,52:580000,53:663000,54:749000,55:837000,56:927000,57:1019000,58:1114000,59:1211000,60:1387000,61:1456000,62:1534000,63:1621000,64:1720000,65:1834000,66:1968000,67:2126000,68:2317000,69:2550000,70:2923000,71:3018000,72:3153000,73:3324000,74:3532000,75:3770600,76:4066000,77:4377000,78:4777000,79:5256000,80:5992000,81:6171000,82:6942000,83:7205000,84:7948000,85:8287000,86:9231000,87:9529000,88:10459000,89:10838000,90:13278000,91:13659000,92:15348000,93:15912000,94:17534000,95:18263000,96:20322000,97:20957000,98:22979000,99:23789000};

    let isBuffActive = false;

    function toggleBuff() {
        isBuffActive = !isBuffActive;
        const btn = document.getElementById('buffBtn');
        btn.classList.toggle('active', isBuffActive);
        btn.querySelector('span').innerText = isBuffActive ? 'âœ¨ å·²å•Ÿç”¨é›™å€ç¶“é©— âœ¨' : '90ç´šä»¥ä¸‹è«‹é»æˆ‘ä½¿ç”¨é›™å€ç¶“é©—';
        calc(); 
    }

    function calc() {
        const lv = parseInt(document.getElementById('lv').value);
        const cur = parseInt(document.getElementById('cur').value || 0);
        const target = parseInt(document.getElementById('target').value);
        
        const rawBase = parseInt(document.getElementById('baseExp').value || 0);
        const finalBase = isBuffActive ? rawBase * 2 : rawBase;
        const manualMakeExp = parseInt(document.getElementById('totalExp').value || 0);
        const totalPerItem = finalBase + manualMakeExp;
        const alreadyDoneCount = parseInt(document.getElementById('alreadyDone').value || 0);

        if (EXP_DATA[lv] && target > lv) {
            let remainInLv = Math.max(0, EXP_DATA[lv] - cur);
            let totalNeeded = remainInLv;
            for (let i = lv + 1; i < target; i++) totalNeeded += (EXP_DATA[i] || 0);
            
            const percent = ((cur / EXP_DATA[lv]) * 100).toFixed(1);
            document.getElementById('progressBar').style.width = percent + "%";

            let actualNeededExp = totalNeeded - (alreadyDoneCount * totalPerItem);
            if (actualNeededExp < 0) actualNeededExp = 0;

            document.getElementById('resLv').innerText = `æœ¬ç´šé€²åº¦: ${percent}% (é‚„å·® ${remainInLv.toLocaleString()} Exp)`;
            document.getElementById('resTotal').innerText = `${totalNeeded.toLocaleString()} Exp`;
            
            if (totalPerItem > 0) {
                const count = Math.ceil(actualNeededExp / totalPerItem);
                document.getElementById('resHint').innerText = actualNeededExp === 0 ? `âœ¨ å·²é”æˆç›®æ¨™ï¼ âœ¨` : `ğŸ é‚„éœ€è£½ä½œ ${count.toLocaleString()} å€‹`;
            } else {
                document.getElementById('resHint').innerText = `è«‹è¼¸å…¥ç¶“é©—å€¼`;
            }
        } else {
            document.getElementById('progressBar').style.width = "0%";
            document.getElementById('resLv').innerText = "ç­‰å¾…è¼¸å…¥...";
            document.getElementById('resTotal').innerText = "0 Exp";
            document.getElementById('resHint').innerText = "è«‹ç¢ºèªç­‰ç´š";
        }
    }
    calc();
</script>
</body>
</html>